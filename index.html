<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Musik Quiz â€“ Spotify</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="app">

  <!-- HEADER -->
  <header>
    <div>
      <div class="title">
        Musik Quiz
        <span class="pill">Spotify Â· Prototyp</span>
      </div>
      <div class="subtitle">Ein Device Â· Noob/Pro-Modus Â· Zettel-Antworten</div>
    </div>

    <!-- Witzige Badges -->
    <div class="fun-badges">
      <div class="fun-badge">ğŸ¤ Schreien erlaubt</div>
      <div class="fun-badge">ğŸ§» Zettelpflicht</div>
      <div class="fun-badge">ğŸ§ Spotify entscheidet dein Schicksal</div>
      <div class="fun-badge">ğŸ˜µâ€ğŸ’« Einfach raten!</div>
    </div>
  </header>

  <!-- MAIN -->
  <main>

    <!-- LINKER BLOCK: LOGIN / PLAYLIST / PLAYER / MODUS -->
    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">Spotify & Steuerung</div>
          <div class="card-tag">1. Login Â· 2. Playlist Â· 3. Player Â· 4. Runde</div>
        </div>
        <div class="badge">
          <span id="playerStatusDot" class="badge-dot"></span>
          <span id="playerStatusText">Player nicht verbunden</span>
        </div>
      </div>

      <!-- Login -->
      <div class="row row-wrap">
        <button id="btnLogin" class="btn btn-primary">Mit Spotify verbinden</button>
        <button id="btnLogout" class="btn btn-ghost">Logout</button>
        <div class="small" id="loginInfo">Nicht eingeloggt</div>
      </div>

      <!-- Playlist-Auswahl + URL -->
      <div class="row row-wrap mt-4">
        <div class="flex-1 playlist-input-wrapper">
          <label for="playlistInput">Playlist auswÃ¤hlen oder URL einfÃ¼gen</label>
          <input id="playlistInput" type="text" placeholder="Tippe hier oder wÃ¤hle eine Playlist aus â€¦" />
          <div id="playlistSuggestions" class="playlist-suggestions"></div>
        </div>
      </div>

      <div class="row row-wrap mt-2">
        <button id="btnInitPlayer" class="btn btn-ghost">Player verbinden</button>
        <button id="btnLoadPlaylist" class="btn btn-primary">Playlist laden</button>
        <div class="small" id="playlistInfo"></div>
      </div>

      <!-- Modus -->
      <div class="mt-4">
        <div class="row row-wrap">
          <div class="mode-toggle" id="modeToggle">
            <div class="mode-option active" data-mode="noob">
              Noob
              <span>Jahrzehnt Â· Â±4 Â· Â±2 Â· 2000 Â· Feature</span>
            </div>
            <div class="mode-option" data-mode="pro">
              Pro
              <span>KÃ¼nstler Â· Titel Â· Album Â· Jahre Â±</span>
            </div>
          </div>

          <div style="margin-left:auto;">
            <label for="durationInput">Abspielzeit (Sek.)</label>
            <input id="durationInput" type="number" value="30" min="5" max="120" />
          </div>
        </div>
      </div>

      <!-- Steuerung -->
      <div class="row row-wrap mt-4">
        <button id="btnStartRound" class="btn btn-primary flex-1">NÃ¤chsten Song starten</button>
        <button id="btnReveal" class="btn btn-ghost">LÃ¶sung anzeigen</button>
        <button id="btnStop" class="btn btn-danger">Stopp</button>
      </div>

      <div class="status-line mt-3">
        <div>Song: <span id="roundInfo" class="status-strong">â€“</span></div>
        <div>Modus: <span id="modeLabel" class="status-strong">Noob</span></div>
      </div>
    </section>

    <!-- RECHTER BLOCK: TIMER / KATEGORIE / FRAGEN / LÃ–SUNG -->
    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">Runde</div>
          <div class="card-tag">Musik lÃ¤uft â†’ Antworten â†’ LÃ¶sung aufdecken</div>
        </div>
      </div>

      <!-- TIMER -->
      <div class="timer" id="countdownDisplay">00</div>

      <!-- KATEGORIE -->
      <div class="category-banner mt-3" id="categoryBanner">
        <div class="category-label">Kategorie dieser Runde</div>
        <div class="category-value" id="categoryValue">â€“</div>
      </div>

      <!-- FRAGENLISTE -->
      <div class="questions mt-3">
        <div class="questions-title">Fragen in diesem Modus</div>
        <ul id="questionsList"></ul>
      </div>

      <!-- LÃ–SUNGSKARTE -->
      <div class="solution-card mt-4 solution-hidden" id="solutionCard">
        <div class="solution-header">
          <div>RundenlÃ¶sung</div>
          <div class="pill-small"><span id="trackIndexLabel">â€“</span></div>
        </div>

        <div class="solution-main mt-2">
          <div><strong id="solutionTitle">---</strong></div>
          <div>von <span id="solutionArtist" class="solution-value">---</span></div>
        </div>

        <div class="solution-meta mt-2">
          <div>Album: <span id="solutionAlbum" class="solution-value">---</span></div>
          <div>Erscheinungsjahr: <span id="solutionYear" class="solution-value">---</span></div>
          <div>Jahrzehnt: <span id="solutionDecade" class="solution-value">---</span></div>
          <div>Feature (â‰¥ 2 Artists): <span id="solutionSoloGroup" class="solution-value">---</span></div>
        </div>

        <div class="solution-hint">Punktevergabe erfolgt analog durch die Spielenden.</div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div>Steuerung: Login â†’ Playlist wÃ¤hlen â†’ Player â†’ Runde â†’ LÃ¶sung.</div>
    <div>Hinweis: Spotify Web Playback funktioniert nur Ã¼ber https:// oder http://localhost.</div>
  </footer>

</div>

<!-- Spotify Web Playback SDK -->
<script src="https://sdk.scdn.co/spotify-player.js"></script>
<!-- App -->
<script src="app.js"></script>

</body>
</html>
